(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{4498:function(e,n,t){"use strict";t.d(n,{E:function(){return l}});var o=t(7462),a=t(7294),r=t(6591),l=a.forwardRef((function(e,n){return a.createElement(r.r,(0,o.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 496 512"},e,{ref:n}),a.createElement("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}))}));l.displayName="Github"},927:function(e,n,t){"use strict";t.d(n,{H:function(){return l}});var o=t(7462),a=t(7294),r=t(6591),l=a.forwardRef((function(e,n){return a.createElement(r.r,(0,o.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 512 512"},e,{ref:n}),a.createElement("path",{fill:"currentColor",d:"M71.5 142.3c.6-5.9-1.7-11.8-6.1-15.8L20.3 72.1V64h140.2l108.4 237.7L364.2 64h133.7v8.1l-38.6 37c-3.3 2.5-5 6.7-4.3 10.8v272c-.7 4.1 1 8.3 4.3 10.8l37.7 37v8.1H307.3v-8.1l39.1-37.9c3.8-3.8 3.8-5 3.8-10.8V171.2L241.5 447.1h-14.7L100.4 171.2v184.9c-1.1 7.8 1.5 15.6 7 21.2l50.8 61.6v8.1h-144v-8L65 377.3c5.4-5.6 7.9-13.5 6.5-21.2V142.3z"}))}));l.displayName="MediumM"},8410:function(e,n,t){"use strict";t.d(n,{x:function(){return l}});var o=t(7462),a=t(7294),r=t(6591),l=a.forwardRef((function(e,n){return a.createElement(r.r,(0,o.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))}));l.displayName="Close"},2524:function(e,n,t){"use strict";t.d(n,{W:function(){return l}});var o=t(7462),a=t(7294),r=t(6591),l=a.forwardRef((function(e,n){return a.createElement(r.r,(0,o.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}))}));l.displayName="KeyboardArrowDown"},5595:function(e,n,t){"use strict";t.d(n,{o:function(){return l}});var o=t(7462),a=t(7294),r=t(6591),l=a.forwardRef((function(e,n){return a.createElement(r.r,(0,o.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 24 24"},e,{ref:n}),a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),a.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))}));l.displayName="Search"},710:function(e,n,t){"use strict";var o=t(2777),a=t(2262),r=t(748),l=t(5959),s=t(3553),i=t(7247),p=t(9499),d=t(7294),c=t(4505),u=t(8461),m=t(6390),h=t(5893);function k(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,i.Z)(e);if(n){var a=(0,i.Z)(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return(0,s.Z)(this,t)}}var y=function(e){(0,l.Z)(t,e);var n=k(t);function t(){var e;(0,o.Z)(this,t);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return e=n.call.apply(n,[this].concat(l)),(0,p.Z)((0,r.Z)(e),"state",{isSideFolded:!0,isMobileNavFolded:!0}),(0,p.Z)((0,r.Z)(e),"onSideToggle",(function(){e.setState({isSideFolded:!e.state.isSideFolded,isMobileNavFolded:!0})})),(0,p.Z)((0,r.Z)(e),"onMobileNavToggle",(function(){e.setState({isMobileNavFolded:!e.state.isMobileNavFolded,isSideFolded:!0})})),(0,p.Z)((0,r.Z)(e),"onRouteChange",(function(){e.setState({isSideFolded:!0,isMobileNavFolded:!0})})),e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.children,t=e.title,o=e.description,a=e.useDocsSidebarMenu,r=void 0===a||a,l=e.pages,s=this.state,i=s.isSideFolded,p=s.isMobileNavFolded;return(0,h.jsxs)(m.W2,{children:[(0,h.jsx)(c.Z,{title:"styled-components".concat(t?": ".concat(t):""),description:o,children:(0,h.jsx)("meta",{name:"robots",content:"noodp"})}),(0,h.jsx)(u.Z,{useDocsSidebarMenu:r,isSideFolded:i,isMobileNavFolded:p,pages:l,onSideToggle:this.onSideToggle,onMobileNavToggle:this.onMobileNavToggle,onRouteChange:this.onRouteChange}),(0,h.jsxs)(m.VY,{moveRight:!i,"data-e2e-id":"content",children:[(0,h.jsx)(m.Dx,{children:t}),n]})]})}}]),t}(d.Component);(0,p.Z)(y,"defaultProps",{title:"",description:""}),n.Z=y},8254:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return se}});var o=t(6864),a=t(4730),r=(t(7294),t(3905)),l=t(710),s=["components"],i={};function p(e){var n=e.components,t=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,o.Z)({},i,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Can I nest rules?"),(0,r.kt)("p",null,"Yes: nesting is a feature intentionally ported from Sass. Used sparingly it's a\ngreat way to lighten your code by reducing the need to create explicit classes for every element."),(0,r.kt)("p",null,"It can also be used by parent components to define contextual constraints that aren't properly a concern of the affected children:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-react"},'const EqualDivider = styled.div`\n  display: flex;\n  margin: 0.5rem;\n  padding: 1rem;\n  background: papayawhip;\n  ${props => props.vertical && "flex-direction: column;"}\n\n  > * {\n    flex: 1;\n\n    &:not(:first-child) {\n      ${props => props.vertical ? "margin-top" : "margin-left"}: 1rem;\n    }\n  }\n`;\n\nconst Child = styled.div`\n  padding: 0.25rem 0.5rem;\n  background: palevioletred;\n`;\n\nrender(\n  <div>\n  <EqualDivider>\n    <Child>First</Child>\n    <Child>Second</Child>\n    <Child>Third</Child>\n  </EqualDivider>\n  <EqualDivider vertical>\n    <Child>First</Child>\n    <Child>Second</Child>\n    <Child>Third</Child>\n  </EqualDivider>\n  </div>\n);\n')),(0,r.kt)("p",null,"It's also incredibly convenient to co-locate media queries, since we can see at a glance\nexactly how the component will respond at any resolution."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-react"},'const ColorChanger = styled.section`\n  background: papayawhip;\n  color: palevioletred;\n\n  @media(min-width: 768px) {\n    background: mediumseagreen;\n    color: papayawhip;\n  }\n`;\n\nrender(\n  <ColorChanger href="#">\n    <h2>Hello world!</h2>\n  </ColorChanger>\n);\n')))}p.isMDXComponent=!0;var d=["components"],c={};function u(e){var n=e.components,t=(0,a.Z)(e,d);return(0,r.kt)("wrapper",(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Can I use CSS frameworks?"),(0,r.kt)("p",null,"Integrating an existing CSS framework with styled-components is really easy! You can use its existing class names alongside your components."),(0,r.kt)("p",null,"For example, imagine you have an existing app with two classes you want to use again: ",(0,r.kt)("inlineCode",{parentName:"p"},".small")," and ",(0,r.kt)("inlineCode",{parentName:"p"},".big"),". If you want the class to always be attached to the component, you should use ",(0,r.kt)("a",{parentName:"p",href:"/docs/api#attrs"},"the ",(0,r.kt)("inlineCode",{parentName:"a"},"attrs")," method")," to attach it. If you want to attach it only in some cases you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"className")," props like you always have!"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-react"},'// Using .attrs, we attach the .small class to every <Button />\nconst Button = styled.button.attrs(props => ({\n  className: "small",\n}))`\n  background: black;\n  color: white;\n  cursor: pointer;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid black;\n  border-radius: 3px;\n`;\n\nrender(\n  <div>\n    <Button>Styled Components</Button>\n    {/* Here we attach the class .big to this specific instance of the Button */}\n    <Button className="big">The new way to style components!</Button>\n  </div>\n);\n')),(0,r.kt)("p",null,"If the framework has a bunch of raw global CSS that needs to be included on the page, you can add it using the ",(0,r.kt)("a",{parentName:"p",href:"/docs/api#createglobalstyle"},(0,r.kt)("inlineCode",{parentName:"a"},"createGlobalStyle")," API"),". This is also useful for things like CSS resets."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note that for styled-components v3 and below, the previous API for global styles was ",(0,r.kt)("a",{parentName:"p",href:"/docs/api#injectglobal"},(0,r.kt)("inlineCode",{parentName:"a"},"injectGlobal")),".")))}u.isMDXComponent=!0;var m=["components"],h={};function k(e){var n=e.components,t=(0,a.Z)(e,m);return(0,r.kt)("wrapper",(0,o.Z)({},h,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"How can I override styles with higher specificity?"),(0,r.kt)("p",null,"The way to override styles with a high specificity is to simply increase the specificity of your own styles. This could be done using ",(0,r.kt)("inlineCode",{parentName:"p"},"!important"),", but that's error prone and generally not a good idea."),(0,r.kt)("p",null,"We recommend the following technique:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const MyStyledComponent = styled(AlreadyStyledComponent)`\n  &&& {\n    color: palevioletred;\n    font-weight: bold;\n  }\n`\n")),(0,r.kt)("p",null,"Each ",(0,r.kt)("inlineCode",{parentName:"p"},"&")," gets replaced with the generated class, so the injected CSS then looks like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},".MyStyledComponent-asdf123.MyStyledComponent-asdf123.MyStyledComponent-asdf123 {\n  color: palevioletred;\n  font-weight: bold;\n}\n")),(0,r.kt)("p",null,"The repeated class bumps the specificity high enough to override the source order without being very tedious to write!"))}k.isMDXComponent=!0;var y=["components"],f={};function g(e){var n=e.components,t=(0,a.Z)(e,y);return(0,r.kt)("wrapper",(0,o.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"How can I override inline styles?"),(0,r.kt)("p",null,"Inline styles will always take precedence over external CSS, so you cannot override it by simply increasing specificity."),(0,r.kt)("p",null,"There is a neat trick however, which is to use the style ",(0,r.kt)("inlineCode",{parentName:"p"},"element-attr")," CSS Selector in conjunction with ",(0,r.kt)("inlineCode",{parentName:"p"},"!important"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const MyStyledComponent = styled(InlineStyledComponent)`\n  &[style] {\n    font-size: 12px !important;\n    color: blue !important;\n  }\n`\n")))}g.isMDXComponent=!0;var w=["components"],N={};function b(e){var n=e.components,t=(0,a.Z)(e,w);return(0,r.kt)("wrapper",(0,o.Z)({},N,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Why do my DOM nodes have two classes?"),(0,r.kt)("p",null,"Each node actually has two classes connected to it: one is static per component, meaning each element of a styled component has this class. It hasn't any style attached to it. Instead, it's used to quickly identify which styled component a DOM objects belongs to or to make minor changes in the DevTools. It's also used for ",(0,r.kt)("a",{parentName:"p",href:"/docs/advanced#referring-to-other-components"},"component selectors"),". The static class probably will look something like: ",(0,r.kt)("inlineCode",{parentName:"p"},".sc-fVOeaW"),"."),(0,r.kt)("p",null,"The other is dynamic, meaning it will be different for every element of your styled component with different props, based on what the interpolations result in. It will probably look like ",(0,r.kt)("inlineCode",{parentName:"p"},".fVOeaW"),' (note the lack of "sc" prefix.)'),(0,r.kt)("p",null,"For example, the styled component ",(0,r.kt)("inlineCode",{parentName:"p"},"<Button />")," would render with the same static class every time. If the styles are changed using interpolations, like ",(0,r.kt)("inlineCode",{parentName:"p"},"<Button secondary />"),", then the dynamic class will be a different one, while the static class would remain the same."))}b.isMDXComponent=!0;var v=["components"],C={};function x(e){var n=e.components,t=(0,a.Z)(e,v);return(0,r.kt)("wrapper",(0,o.Z)({},C,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"When to use attrs?"),(0,r.kt)("p",null,"You can pass in attributes to styled components using ",(0,r.kt)("a",{parentName:"p",href:"/docs/basics#attaching-additional-props"},"attrs"),", but it is not always sensible to do so."),(0,r.kt)("p",null,"The rule of thumb is to use ",(0,r.kt)("inlineCode",{parentName:"p"},"attrs")," when you want every instance of a styled component to have that prop, and ",(0,r.kt)("a",{parentName:"p",href:"/docs/basics#passed-props"},"pass props")," directly when every instance needs a different one:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'const PasswordInput = styled.input.attrs(props => ({\n  // Every <PasswordInput /> should be type="password"\n  type: "password"\n}))``\n\n// This specific one is hidden, so let\'s set aria-hidden\n<PasswordInput aria-hidden="true" />\n')),(0,r.kt)("p",null,'The same goes for props that can be inferred based on the "mode" of another prop. In this case you can set a property on ',(0,r.kt)("inlineCode",{parentName:"p"},"attrs")," to a function that computes that prop based on other props."))}x.isMDXComponent=!0;var T=["components"],S={};function M(e){var n=e.components,t=(0,a.Z)(e,T);return(0,r.kt)("wrapper",(0,o.Z)({},S,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"I am a library author. Should I bundle ",(0,r.kt)("inlineCode",{parentName:"h2"},"styled-components")," with my library?"),(0,r.kt)("p",null,"If you are a library author, we recommend that you should not bundle and ship ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," module with your library. There are two steps that you need to do to achieve this:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Marking ",(0,r.kt)("inlineCode",{parentName:"li"},"styled-components")," as external in your package dependencies"),(0,r.kt)("li",{parentName:"ul"},"Removing ",(0,r.kt)("inlineCode",{parentName:"li"},"styled-components")," from your library bundle")),(0,r.kt)("h3",null,"Marking ",(0,r.kt)("inlineCode",{parentName:"h3"},"styled-components")," as external in your package dependencies"),(0,r.kt)("p",null,"To do this, you will need to move it from ",(0,r.kt)("inlineCode",{parentName:"p"},"dependencies")," to ",(0,r.kt)("a",{parentName:"p",href:"https://docs.npmjs.com/files/package.json#devdependencies"},(0,r.kt)("inlineCode",{parentName:"a"},"devDependencies")),"\nand include it in the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.npmjs.com/files/package.json#peerdependencies"},(0,r.kt)("inlineCode",{parentName:"a"},"peerDependencies"))," list in your ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},'  {\n-   "dependencies" : {\n+   "devDependencies" : {\n      "styled-components": "^3.4.9"\n    },\n+   "peerDependencies" : {\n+     "styled-components": ">= 3"\n+   }\n  }\n')),(0,r.kt)("p",null,"Moving ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"devDependencies")," will guarantee that it wouldn't be installed along with your library (",(0,r.kt)("inlineCode",{parentName:"p"},"npm install")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn add")," will ignore ",(0,r.kt)("inlineCode",{parentName:"p"},"devDependencies")," when a library is installed)."),(0,r.kt)("p",null,"Adding ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"peerDependencies")," will signal your library consumers that ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," is not included with the library and they need to install it themselves."),(0,r.kt)("p",null,"Also, note that in the ",(0,r.kt)("inlineCode",{parentName:"p"},"peerDependencies")," section the version string has been made a more permissive ",(0,r.kt)("inlineCode",{parentName:"p"},">= 3"),". This allows future versions of styled-components to work automatically and you can simply narrow the range with a patch update to your library if a breaking change is eventually added."),(0,r.kt)("h3",null,"Removing ",(0,r.kt)("inlineCode",{parentName:"h3"},"styled-components")," from your library bundle"),(0,r.kt)("p",null,"If you are bundling your library before shipping it, make sure that you are not bundling ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," along with it. Here are some examples of how to do this with some popular module bundling tools:"),(0,r.kt)("h4",null,"With Microbundle"),(0,r.kt)("p",null,"If you are using ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/developit/microbundle"},"Microbundle"),", it will handle this step automatically. Microbundle treats every dependency in the ",(0,r.kt)("inlineCode",{parentName:"p"},"peerDependencies")," list as external and excludes it from the build for you."),(0,r.kt)("h4",null,"With Rollup.js"),(0,r.kt)("p",null,"If you are using ",(0,r.kt)("a",{parentName:"p",href:"https://rollupjs.org"},"Rollup.js"),", you should provide an ",(0,r.kt)("a",{parentName:"p",href:"https://rollupjs.org/guide/en#big-list-of-options"},(0,r.kt)("inlineCode",{parentName:"a"},"external"))," option in your config:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},'  export default {\n    entry: "my-awesome-library.js",\n+   external: [\n+     "styled-components"\n+   ]\n  }\n')),(0,r.kt)("p",null,"Another approach is to use the ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/rollup-plugin-peer-deps-external"},"rollup-plugin-peer-deps-external")," plugin which will automatically add the ",(0,r.kt)("inlineCode",{parentName:"p"},"peerDependencies")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"external")," option array for you."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},"+ import peerDepsExternal from 'rollup-plugin-peer-deps-external';\n\n  export default {\n    entry: \"my-awesome-library.js\",\n+   plugins: [\n+    // Preferably set as first plugin.\n+    peerDepsExternal(),\n+   ]\n  }\n")),(0,r.kt)("h4",null,"With Webpack"),(0,r.kt)("p",null,"If you are using ",(0,r.kt)("a",{parentName:"p",href:"https://webpack.js.org"},"Webpack"),", you should provide an ",(0,r.kt)("a",{parentName:"p",href:"https://webpack.js.org/configuration/externals/"},(0,r.kt)("inlineCode",{parentName:"a"},"externals"))," option in your config:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},'  modules.export = {\n    entry: "my-awesome-library.js",\n+   externals: {\n+     "styled-components": {\n+       commonjs: "styled-components",\n+       commonjs2: "styled-components",\n+       amd: "styled-components",\n+     },\n+   },\n  }\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You can find more useful information on how to bundle a library with Webpack at ",(0,r.kt)("a",{parentName:"p",href:"https://webpack.js.org/guides/author-libraries/"},'"Authoring Libraries"')," section of Webpack documentation.")))}M.isMDXComponent=!0;var I=["components"],j={};function D(e){var n=e.components,t=(0,a.Z)(e,I);return(0,r.kt)("wrapper",(0,o.Z)({},j,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Why am I getting a warning about several instances of module on the page?"),(0,r.kt)("p",null,"If you are seeing a warning message in the console like the one below, you probably\nhave several instances of ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," initialized on the page."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'It looks like there are several instances of "styled-components" initialized in this application. This may cause dynamic styles not rendering properly, errors happening during rehydration process and makes you application bigger without a good reason.\n\nIf you are using a building tool like webpack, consider checking your bundle for duplication of the "styled-components" module.\n')),(0,r.kt)("p",null,"This may cause dynamic styles not working properly or even errors during rehydration if\nyou are using server-side rendering."),(0,r.kt)("h3",null,"Possible reasons"),(0,r.kt)("p",null,"There are several common reasons for this to happen:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You have several applications that are using ",(0,r.kt)("inlineCode",{parentName:"li"},"styled-components")," running on the same page\n(e.g., several entry points in webpack are loaded on the same page)"),(0,r.kt)("li",{parentName:"ul"},"You have another ",(0,r.kt)("inlineCode",{parentName:"li"},"styled-components")," library somewhere in your dependencies"),(0,r.kt)("li",{parentName:"ul"},"You have a monorepo structure for your project (e.g, lerna, yarn workspaces) and ",(0,r.kt)("inlineCode",{parentName:"li"},"styled-components"),"\nmodule is a dependency in more than one package (this one is more or less the same as the previous one)")),(0,r.kt)("h3",null,"Running multiple applications on one page"),(0,r.kt)("p",null,"If you have several applications running on one page, consider using one ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," module for all of them. If you are using webpack, you can use ",(0,r.kt)("a",{parentName:"p",href:"https://webpack.js.org/plugins/commons-chunk-plugin/"},"CommonsChunkPlugin"),"\nto create an ",(0,r.kt)("a",{parentName:"p",href:"https://webpack.js.org/plugins/commons-chunk-plugin/#explicit-vendor-chunk"},"explicit vendor chunk"),",\nthat will contain the ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," module:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},'  module.exports = {\n    entry: {\n+     vendor: ["styled-components"],\n      app1: "./src/app.1.js",\n      app2: "./src/app.2.js",\n    },\n    plugins: [\n+     new webpack.optimize.CommonsChunkPlugin({\n+       name: "vendor",\n+       minChunks: Infinity,\n+     }),\n    ]\n  }\n')),(0,r.kt)("h3",null,"Duplicated module in ",(0,r.kt)("inlineCode",{parentName:"h3"},"node_modules")),(0,r.kt)("p",null,"If you think that the issue is in duplicated ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," module somewhere in your dependencies, there are several ways to check this. You can use ",(0,r.kt)("inlineCode",{parentName:"p"},"npm ls styled-components"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"yarn list --pattern styled-components")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"find -L ./node_modules | grep /styled-components/package.json")," commands in your application folder."),(0,r.kt)("p",null,"If none of these commands identified the duplication, try analyzing your bundle for multiple instances of ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components"),". You can just check your bundle source, or use a tool like ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/danvk/source-map-explorer"},"source-map-explorer"),"\nor ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/webpack-contrib/webpack-bundle-analyzer"},"webpack-bundle-analyzer"),"."),(0,r.kt)("p",null,"If you identified that duplication is the issue that you are encountering there are several things you can try to solve it:"),(0,r.kt)("p",null,"If you are using ",(0,r.kt)("inlineCode",{parentName:"p"},"npm")," you can try running ",(0,r.kt)("inlineCode",{parentName:"p"},"npm dedupe"),". This command searches the local dependencies and tries to simplify the structure by moving common dependencies further up the tree."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Be aware that ",(0,r.kt)("inlineCode",{parentName:"p"},"npm dedupe")," doesn't work well with symlinked folders (i.e., when you use ",(0,r.kt)("inlineCode",{parentName:"p"},"npm link"),")")),(0,r.kt)("p",null,"If you are using webpack, you can change the way it will ",(0,r.kt)("a",{parentName:"p",href:"https://webpack.js.org/configuration/resolve/#resolve-modules"},"resolve"),"\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," module. You can overwrite the default order in which webpack will look for your dependencies and make your application ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," more prioritized than default node module resolution order:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-diff"},'  resolve: {\n+   alias: {\n+     "styled-components": path.resolve(appFolder, "node_modules", "styled-components"),\n+   }\n  }\n')),(0,r.kt)("h3",null,"Usage with Lerna"),(0,r.kt)("p",null,"One possible fix to get styled-components to run in a Lerna monorepo across packages, is to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lerna/lerna/blob/master/doc/hoist.md#disadvantages-with-hoisting"},"hoist")," shared dependencies to the root of your monorepo file. Try running the bootstrap option with the --hoist flag."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"lerna bootstrap --hoist\n")),(0,r.kt)("p",null,"Alternatively, you can remove ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," from your ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," file and hoist it manually to your top-level package.json file."),(0,r.kt)("p",null,"Example of a package.json file in a Lerna root folder"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "my-styled-monorepo",\n  "devDependencies": {\n    "lerna": "3.6.0"\n  },\n  "dependencies": {\n    "styled-components": "3.4.5"\n  },\n  "scripts": {\n    "bootstrap": "lerna bootstrap",\n    "clean": "lerna clean",\n    "start": "lerna run start",\n    "build": "lerna run build"\n  }\n}\n')))}D.isMDXComponent=!0;var Z=["components"],A={};function L(e){var n=e.components,t=(0,a.Z)(e,Z);return(0,r.kt)("wrapper",(0,o.Z)({},A,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Why am I getting HTML attribute warnings?"),(0,r.kt)("p",null,"The warning message below indicates that non-standard attributes are being attached to\nHTML DOM elements such as ",(0,r.kt)("inlineCode",{parentName:"p"},"<div>")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"<a>"),". If you are seeing this warning message, it is likely that you or a library you are using is attaching props as attributes to HTML DOM elements."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Warning: Received "true" for a non-boolean attribute\n')),(0,r.kt)("p",null,"If you're seeing this warning you are probably passing ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," where ",(0,r.kt)("inlineCode",{parentName:"p"},'"true"')," would be appropriate. It's likely that this comes from a ",(0,r.kt)("inlineCode",{parentName:"p"},".attrs")," property, or from a completely unrelated prop that you're passing to a ",(0,r.kt)("inlineCode",{parentName:"p"},"styled(Component)")," component."),(0,r.kt)("p",null,"To learn more about how props are passed, see ",(0,r.kt)("a",{parentName:"p",href:"/docs/basics#passed-props",title:"Passing Props to styled-components"},"this section"),"."),(0,r.kt)("p",null,"For example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const Link = props => (\n  <a {...props} className={props.className}>\n    {props.text}\n  </a>\n)\n\nconst StyledComp = styled(Link)`\n  color: ${props => (props.red ? 'red' : 'blue')};\n`\n\n<StyledComp text=\"Click\" href=\"https://www.styled-components.com/\" red />\n")),(0,r.kt)("p",null,"This will render:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<a text="Click" href="https://www.styled-components.com/" red="true" class="[generated class]">Click</a>\n')),(0,r.kt)("p",null,'React will warn on non-standard attributes being attached such as "red" and "text", which are not valid HTML attributes for the ',(0,r.kt)("inlineCode",{parentName:"p"},"<a>")," element. "),(0,r.kt)("p",null,"To fix this, you can use transient props or destructure props:"),(0,r.kt)("h3",null,"transient props (since 5.1)"),(0,r.kt)("p",null,"You can use ",(0,r.kt)("a",{parentName:"p",href:"https://styled-components.com/docs/api#transient-props"},"transient props")," to fix this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const Link = ({ className, red, text, ...props }) => (\n  <a {...props} className={className}>\n    {text}\n  </a>\n)\n\nconst StyledComp = styled(Link)`\n  color: ${props => (props.$red ? 'red' : 'blue')};\n`\n\n<StyledComp text=\"Click\" href=\"https://www.styled-components.com/\" $red />\n")),(0,r.kt)("h3",null,"destructure props"),(0,r.kt)("p",null,"If you use a version < 5.1 or if you can't use transient props, you can use argument destructuring to pull out those known styling props:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const Link = ({ className, red, text, ...props }) => (\n  <a {...props} className={className}>\n    {text}\n  </a>\n)\n\nconst StyledComp = styled(Link)`\n  color: ${props => (props.red ? 'red' : 'blue')};\n`\n\n<StyledComp text=\"Click\" href=\"https://www.styled-components.com/\" red />\n")),(0,r.kt)("p",null,"This will render:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<a href="https://www.styled-components.com/" class="[generated class]">\n  Click\n</a>\n')),(0,r.kt)("p",null,"When you use argument destructuring, any variables pulled out of the props object will not be included when spread-applying the remaining props (",(0,r.kt)("inlineCode",{parentName:"p"},"...props"),");"))}L.isMDXComponent=!0;var R=["components"],E={};function X(e){var n=e.components,t=(0,a.Z)(e,R);return(0,r.kt)("wrapper",(0,o.Z)({},E,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Which browsers are supported?"),(0,r.kt)("p",null,"styled-components supports the same set of browsers as the current React version."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"v2.x (React v0.14+): IE9+, all evergreen browsers"),(0,r.kt)("li",{parentName:"ul"},"v3.x (React v0.14+): IE9+, all evergreen browsers"),(0,r.kt)("li",{parentName:"ul"},"v4.x (React v16.3+): IE11, IE 9+ (with Map + Set polyfills), all evergreen browsers"),(0,r.kt)("li",{parentName:"ul"},"v5.x (React v16.3+): IE11, all evergreen browsers")),(0,r.kt)("p",null,"Evergreen browsers include Chrome and Firefox (and derivatives) as they can be updated regardless of operating system version. Edge and Safari should both also work fine since all versions for the last several years support the relevant APIs."))}X.isMDXComponent=!0;var P=["components"],F={};function z(e){var n=e.components,t=(0,a.Z)(e,P);return(0,r.kt)("wrapper",(0,o.Z)({},F,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"What do I need to do to migrate to v4?"),(0,r.kt)("p",null,"This is a pretty big release with lots of changes both under the hood and at the API level. As the beta progresses, we will try to release codemods to make the items below simpler. Also, if you find any issues with the steps below, please ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/styled-components/styled-components-website/issues/296"},"leave constructive feedback"),"!"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Upgrade to the latest styled-components:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install styled-components@^4.0.0\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Make sure your application is using ",(0,r.kt)("inlineCode",{parentName:"li"},"react")," >= 16.3; internally we are using the new ",(0,r.kt)("inlineCode",{parentName:"li"},"React.forwardRef")," API and new context APIs if you wish to try and polyfill for older React version support")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install react@^16.3 react-dom@^16.3\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"If you are using ",(0,r.kt)("inlineCode",{parentName:"p"},"enzyme")," or other dependencies like ",(0,r.kt)("inlineCode",{parentName:"p"},"react-test-renderer"),", there may be more related upgrades to complete if you are coming from an old version of ",(0,r.kt)("inlineCode",{parentName:"p"},"react"),".")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"If you are using the ",(0,r.kt)("inlineCode",{parentName:"li"},".extend")," API, switch your components to use ",(0,r.kt)("inlineCode",{parentName:"li"},"styled(StyledComponent)")," instead.")),(0,r.kt)("p",null,"A ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/styled-components/styled-components-codemods"},"codemod is available")," to expedite this."),(0,r.kt)("p",null,"\ud83d\udeab"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import styled from 'styled-components'\n\nconst Component = styled.div`\n  background: blue;\n  color: red;\n`\n\nconst ExtendedComponent = Component.extend`\n  color: green;\n`\n")),(0,r.kt)("p",null,"\u2705"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import styled from 'styled-components'\n\nconst Component = styled.div`\n  background: blue;\n  color: red;\n`\n\nconst ExtendedComponent = styled(Component)`\n  color: green;\n`\n")),(0,r.kt)("p",null,"See the ",(0,r.kt)("a",{parentName:"p",href:"/docs/basics#extending-styles"},'"extending styles" documentation')," for more examples."),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"If you were using the ",(0,r.kt)("inlineCode",{parentName:"li"},"injectGlobal")," API to add global styles to your page, use the new ",(0,r.kt)("a",{parentName:"li",href:"/docs/api#createglobalstyle"},(0,r.kt)("inlineCode",{parentName:"a"},"createGlobalStyle")," helper component")," instead.")),(0,r.kt)("p",null,"A ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/styled-components/styled-components-codemods"},"codemod is available")," to expedite this."),(0,r.kt)("p",null,"\ud83d\udeab"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { injectGlobal } from 'styled-components'\n\ninjectGlobal`\n  body {\n    color: red;\n  }\n`\n")),(0,r.kt)("p",null,"\u2705"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'import { createGlobalStyle } from "styled-components"\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    color: red;\n  }\n`\n\n// later in your app\'s render method\n<React.Fragment>\n  <Navigation />\n  <OtherImportantTopLevelComponentStuff />\n  <GlobalStyle />\n</React.Fragment>\n')),(0,r.kt)("p",null,"See the documentation for ",(0,r.kt)("a",{parentName:"p",href:"/docs/api#createglobalstyle"},(0,r.kt)("inlineCode",{parentName:"a"},"createGlobalStyle"))," to see all the cool stuff you can do with it that wasn't possible before with ",(0,r.kt)("inlineCode",{parentName:"p"},"injectGlobal"),"!"),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"If you were using the ",(0,r.kt)("inlineCode",{parentName:"li"},"innerRef")," prop, change it to a normal ",(0,r.kt)("inlineCode",{parentName:"li"},"ref"),".")),(0,r.kt)("p",null,"\ud83d\udeab"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const Component = styled.div`\n  background: blue;\n  color: red;\n`\n\n// later in your render method\n<Component innerRef={element => { this.myElement = element }}>Something something</Component>\n")),(0,r.kt)("p",null,"\u2705"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const Component = styled.div`\n  background: blue;\n  color: red;\n`\n\n// later in your render method\n<Component ref={element => { this.myElement = element }}>Something something</Component>\n")),(0,r.kt)("ol",{start:6},(0,r.kt)("li",{parentName:"ol"},"If you're using the ",(0,r.kt)("inlineCode",{parentName:"li"},"keyframes")," component in a partial without the ",(0,r.kt)("inlineCode",{parentName:"li"},"css")," helper, you'll need to use the helper now. In general, always use the css helper when composing styling partials to be interpolated into a styled component.")),(0,r.kt)("p",null,"\ud83d\udeab"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import styled, { keyframes } from 'styled-components'\n\nconst animation = keyframes`\n  0% {\n    opacity: 0;\n  }\n\n  100 {\n    opacity: 1;\n  }\n`\n\nconst animationRule = `\n  ${animation} 1s infinite alternate\n`\n\nconst Component = styled.div`\n  animation: ${animationRule};\n`\n")),(0,r.kt)("p",null,"\u2705"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import styled, { css, keyframes } from 'styled-components'\n\nconst animation = keyframes`\n  0% {\n    opacity: 0;\n  }\n\n  100 {\n    opacity: 1;\n  }\n`\n\nconst animationRule = css`\n  ${animation} 1s infinite alternate;\n`\n\nconst Component = styled.div`\n  animation: ${animationRule};\n`\n")),(0,r.kt)("ol",{start:7},(0,r.kt)("li",{parentName:"ol"},"If you're using ",(0,r.kt)("inlineCode",{parentName:"li"},"attrs({})")," and some of the attributes you pass to it is a Function, it's recommended to switch to the new ",(0,r.kt)("inlineCode",{parentName:"li"},"attrs(props => ({}))")," syntax instead for easier and more powerful composition.")),(0,r.kt)("p",null,"\ud83d\udeab"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import styled from 'styled-components'\n\nconst Input = styled.input.attrs({\n  type: props => props.inputType,\n})`\n  background: blue;\n  color: red;\n`\n")),(0,r.kt)("p",null,"\u2705"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import styled from 'styled-components'\n\nconst Input = styled.input.attrs(props => ({\n  type: props.inputType,\n}))`\n  background: blue;\n  color: red;\n`\n")),(0,r.kt)("ol",{start:8},(0,r.kt)("li",{parentName:"ol"},"If you're using TypeScript, the typings are now located in DefinitelyTyped:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm install @types/styled-components\n")),(0,r.kt)("p",null,"That's it! Aside from migrating, we also highly recommend reading up on the new ",(0,r.kt)("a",{parentName:"p",href:"/docs/api#as-polymorphic-prop"},(0,r.kt)("inlineCode",{parentName:"a"},'"as" prop'))," which is intended to replace the ",(0,r.kt)("a",{parentName:"p",href:"/docs/api#withcomponent"},(0,r.kt)("inlineCode",{parentName:"a"},"withComponent API"))," in the future."))}z.isMDXComponent=!0;var W=["components"],H={};function q(e){var n=e.components,t=(0,a.Z)(e,W);return(0,r.kt)("wrapper",(0,o.Z)({},H,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"What do I need to do to migrate to v5?"),(0,r.kt)("p",null,"Ready for this?"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm install styled-components@^5.0.0 react@^16.8 react-dom@^16.8 react-is@^16.8\n")),(0,r.kt)("p",null,"If you're using React Native, you'll need at least v0.59 (the first version to support hooks.)"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"That's it.")," \ud83d\udca5"),(0,r.kt)("hr",null),(0,r.kt)("p",null,"styled-components v5 does not introduce any breaking public API changes, and adds the following:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Total rewrite of the core stylesheet engine, tuned for performance")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"New hooks-based component model")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"StyleSheetManager")," has new props:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"disableCSSOMInjection")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"disableVendorPrefixes")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"stylisPlugins"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"try it with ",(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/stylis-plugin-rtl"},(0,r.kt)("inlineCode",{parentName:"a"},"stylis-plugin-rtl"))," for your bidi needs!")))))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: The subfunction object-form ",(0,r.kt)("inlineCode",{parentName:"p"},".attrs({ prop: props => {} })")," syntax that was deprecated in v4 is removed in v5. Use function-form attrs instead ",(0,r.kt)("inlineCode",{parentName:"p"},".attrs(props => ({}))")," (you should have been seeing console warnings to make this update ahead of time.)")),(0,r.kt)("p",null,"Check out the ",(0,r.kt)("a",{parentName:"p",href:"https://medium.com/styled-components/389747abd987"},"official announcement post")," for more information and to learn about what went into v5!"),(0,r.kt)("h3",null,"For jest users"),(0,r.kt)("p",null,"Update to jest-styled-components v7:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npm install jest-styled-components@^7.0.0\n")),(0,r.kt)("h3",null,"Note regarding css ",(0,r.kt)("inlineCode",{parentName:"h3"},"@import")," and ",(0,r.kt)("inlineCode",{parentName:"h3"},"createGlobalStyle")),(0,r.kt)("p",null,"At this time we do not recommend using ",(0,r.kt)("inlineCode",{parentName:"p"},"@import")," within cGS due to some issues with how browsers process ",(0,r.kt)("inlineCode",{parentName:"p"},"@import")," via the CSSOM APIs. Instead it's best to place these in your core ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html")," file (generated or static) within a typical ",(0,r.kt)("inlineCode",{parentName:"p"},"<style>")," tag."))}q.isMDXComponent=!0;var _=["components"],B={};function O(e){var n=e.components,t=(0,a.Z)(e,_);return(0,r.kt)("wrapper",(0,o.Z)({},B,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"How do I use styled-components with ",(0,r.kt)("inlineCode",{parentName:"h2"},"create-react-app"),"?"),(0,r.kt)("p",null,"The basic functionality of the library should work out of the box like any other library."),(0,r.kt)("p",null,"However, if you want to do server-side rendering or take advantage of some of the advanced capabilities of the ",(0,r.kt)("a",{parentName:"p",href:"/docs/tooling#babel-plugin"},"styled-components babel plugin")," without ejecting you'll need to set up ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/timarney/react-app-rewired"},(0,r.kt)("inlineCode",{parentName:"a"},"react-app-rewired"))," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/withspectrum/react-app-rewire-styled-components"},(0,r.kt)("inlineCode",{parentName:"a"},"react-app-rewire-styled-components")),"."),(0,r.kt)("h3",null,"Babel Macro"),(0,r.kt)("p",null,"As of create-react-app v2, there is now an alternative to setting up ",(0,r.kt)("inlineCode",{parentName:"p"},"react-app-rewired"),' through use of "babel macros". See the ',(0,r.kt)("a",{parentName:"p",href:"/docs/tooling#babel-macro"},"documentation for the styled-components babel macro")," for setup and usage."))}O.isMDXComponent=!0;var V=["components"],G={};function Y(e){var n=e.components,t=(0,a.Z)(e,V);return(0,r.kt)("wrapper",(0,o.Z)({},G,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"How can I fix issues when using ",(0,r.kt)("inlineCode",{parentName:"h2"},"npm link")," or ",(0,r.kt)("inlineCode",{parentName:"h2"},"yarn link"),"?"),(0,r.kt)("p",null,"Local linking can be a useful tool to co-develop projects simultaneously. However, it creates chaotic situations with libraries that are meant to be used as singletons like react and styled-components since each of your local projects likely has a full set of development dependencies downloaded (and bundlers prefer local versions of dependencies by default.)"),(0,r.kt)("p",null,"The solution is to add aliasing. Here's an example config for webpack:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"// const path = require('path');\n\n{\n  resolve: {\n    alias: {\n      // adjust this path as needed depending on where your webpack config is\n      'styled-components': path.resolve('../node_modules/styled-components')\n    }\n  }\n}\n")),(0,r.kt)("p",null,"This ensures that for your build the same copy of the library will always be used, even across symlinked projects."),(0,r.kt)("h2",null,"Linking in an SSR SCENARIO."),(0,r.kt)("p",null,"If you are using the ",(0,r.kt)("inlineCode",{parentName:"p"},"collectStyles")," function on a project with linked components you will end up in a complex scenario. Basically what's happening is that because of v4 new static context API different styled-component modules are now managing their own list of styled-components to render, from the host app it appears as though there's nothing to extract because no styled components have been created in that scope they were created from the linked package scope."),(0,r.kt)("h3",null,"How do I solve it?"),(0,r.kt)("p",null,"One solution is to add an alias to the ",(0,r.kt)("inlineCode",{parentName:"p"},"styled-components")," module path resolution to always point to the 'host' application. Hopefully there are a bunch of libraries to do that we will use for this example ",(0,r.kt)("inlineCode",{parentName:"p"},"module-alias"),". At the very top of your SSR index file add:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const path = require('path');\nconst moduleAlias = require('module-alias');\n\nmoduleAlias.addAlias('styled-components', path.join(__dirname, '../node_modules/styled-components'));\n")),(0,r.kt)("p",null,"This will tell node to resolve all import/require's of styled-components to ",(0,r.kt)("inlineCode",{parentName:"p"},"__dirname, '../node_modules/styled-components'")))}Y.isMDXComponent=!0;var $=["components"],U={};function K(e){var n=e.components,t=(0,a.Z)(e,$);return(0,r.kt)("wrapper",(0,o.Z)({},U,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"How do I fix flickering text after server side rendering?"),(0,r.kt)("p",null,"When using global styling APIs like ",(0,r.kt)("a",{parentName:"p",href:"/docs/api#createglobalstyle"},(0,r.kt)("inlineCode",{parentName:"a"},"createGlobalStyle"))," or the former ",(0,r.kt)("a",{parentName:"p",href:"/docs/api#injectglobal"},(0,r.kt)("inlineCode",{parentName:"a"},"injectGlobal")),", adding and removing certain styles from the DOM like ",(0,r.kt)("inlineCode",{parentName:"p"},"@font-face")," definitions can cause momentary flickering of text on the page. This typically happens during the rehydration phase of server-side rendering. We're still tweaking how these behaviors work to avoid the issue long-term."),(0,r.kt)("p",null,"However, there is a CSS solution to the problem in the ",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display"},(0,r.kt)("inlineCode",{parentName:"a"},"font-display")," CSS rule"),'. By setting the rule to "fallback" mode, once a font has been loaded it will not be reloaded. This eliminates the flicker.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-css"},"@font-face {\n  font-family: 'Foo';\n  src: url('/path/to/foo.woff') format('woff');\n  font-style: normal;\n  font-weight: 400;\n  font-display: fallback; /* <- this can be added to each @font-face definition */\n}\n")))}K.isMDXComponent=!0;var Q=["components"],J={};function ee(e){var n=e.components,t=(0,a.Z)(e,Q);return(0,r.kt)("wrapper",(0,o.Z)({},J,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Why should I avoid declaring styled components in the render method?"),(0,r.kt)("p",null,"By declaring a styled component inside the render method of a react component, you are dynamically creating a new component on every render.\nThis means that React will have to discard and re-calculate that part of the DOM subtree on each subsequent render, instead of just calculating the difference of what changed between them. This leads to performance bottlenecks and unpredictable behavior."),(0,r.kt)("p",null,"\ud83d\udeab"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const Header = () => {\n  const Title = styled.h1`\n    font-size: 10px;\n  `\n\n  return (\n    <div>\n      <Title />\n    </div>\n  )\n}\n")),(0,r.kt)("p",null,"\u2705"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"const Title = styled.h1`\n  font-size: 10px;\n`\n\nconst Header = () => {\n  return (\n    <div>\n      <Title />\n    </div>\n  )\n}\n")))}ee.isMDXComponent=!0;var ne=["components"],te={};function oe(e){var n=e.components,t=(0,a.Z)(e,ne);return(0,r.kt)("wrapper",(0,o.Z)({},te,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",null,"Missing Declarations for ",(0,r.kt)("inlineCode",{parentName:"h2"},"styled-components/native"),"?"),(0,r.kt)("p",null,"If you're getting the error message:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"Could not find a declaration file for module 'styled-components/native'\n")),(0,r.kt)("p",null,"In a React Native project using TypeScript, it is because you need to add ",(0,r.kt)("inlineCode",{parentName:"p"},"@types/styled-components-react-native"),"."))}oe.isMDXComponent=!0;var ae=["components"],re={},le=function(e){var n=e.children;return(0,r.kt)(l.Z,{title:"FAQs",description:"Commonly asked questions about styled-components"},n)};function se(e){var n=e.components,t=(0,a.Z)(e,ae);return(0,r.kt)(le,(0,o.Z)({},re,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)(q,{mdxType:"MigrationV5"}),(0,r.kt)(z,{mdxType:"MigrationV4"}),(0,r.kt)(p,{mdxType:"Nesting"}),(0,r.kt)(u,{mdxType:"CSSFrameworks"}),(0,r.kt)(k,{mdxType:"OverrideStyles"}),(0,r.kt)(g,{mdxType:"OverrideInlineStyles"}),(0,r.kt)(b,{mdxType:"TwoDomClasses"}),(0,r.kt)(x,{mdxType:"WhenToUseAttrs"}),(0,r.kt)(M,{mdxType:"LibraryAuthors"}),(0,r.kt)(D,{mdxType:"DuplicatedStyledComponents"}),(0,r.kt)(ee,{mdxType:"DeclareComponentsInRenderMethod"}),(0,r.kt)(L,{mdxType:"HTMLAttributeWarnings"}),(0,r.kt)(X,{mdxType:"BrowserSupport"}),(0,r.kt)(O,{mdxType:"CRA"}),(0,r.kt)(Y,{mdxType:"NPMLink"}),(0,r.kt)(K,{mdxType:"FlickeringText"}),(0,r.kt)(oe,{mdxType:"MissingNativeImport"}))}se.isMDXComponent=!0},8218:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/faqs",function(){return t(8254)}])},1163:function(e,n,t){e.exports=t(9898)},6864:function(e,n,t){"use strict";function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o.apply(this,arguments)}t.d(n,{Z:function(){return o}})}},function(e){e.O(0,[791,774,888,179],(function(){return n=8218,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
//# sourceMappingURL=faqs-04dbdcc3543d3242.js.map